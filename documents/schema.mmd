%%{init: {'theme': 'neutral'}}%%
erDiagram
    group_members {
        int id PK
        varchar(32) group_id NN
        varchar(64) member_id NN
        timestamp joined_at NN
    }
    group_restaurants {
        int id PK
        varchar(32) group_id NN
        varchar(128) place_id NN
        int position NN
        varchar(255) name NN
        varchar(255) address
        float rating
        int price_level
        text photo_url
        json photo_urls
        float lat NN
        float lng NN
        json types
        json reviews
        varchar(64) phone_number
        varchar(255) website
        varchar(255) google_maps_url
        int user_ratings_total
        json opening_hours
        text summary
    }
    group_votes {
        int id PK
        varchar(32) group_id NN
        varchar(64) member_id NN
        varchar(128) place_id NN
        varchar(10) value NN
        timestamp created_at NN
    }
    groups {
        varchar(32) id PK
        varchar(50) group_name
        varchar(64) organizer_id NN
        float latitude NN
        float longitude NN
        int radius NN
        int min_price
        int max_price
        json types
        varchar(20) status NN
        timestamp created_at NN
    }

    groups ||--o{ group_members : "group_id"
    groups ||--o{ group_restaurants : "group_id"
    groups ||--o{ group_votes : "group_id"
